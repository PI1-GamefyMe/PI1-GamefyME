<!DOCTYPE html>
<html lang="pt-br">
<head>
    <meta charset="UTF-8">
    <title>Cadastro de Atividade</title>
    {% load static %}
    <link href="https://fonts.googleapis.com/css2?family=Jersey+10&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="{% static 'css/cadastro_atividade.css' %}">
    <script>
        function toggleUserMenu() {
            var menu = document.getElementById('user-dropdown');
            menu.style.display = (menu.style.display === 'block') ? 'none' : 'block';
        }
        // Fecha o menu se clicar fora
        window.onclick = function(event) {
            if (!event.target.matches('.user-menu-btn') && !event.target.closest('.user-menu-container')) {
                var dropdowns = document.getElementsByClassName("user-dropdown");
                for (var i = 0; i < dropdowns.length; i++) {
                    dropdowns[i].style.display = "none";
                }
            }
        }
        document.addEventListener('DOMContentLoaded', function() {
            // Fecha automaticamente as mensagens ap√≥s 5 segundos
            setTimeout(function() {
                var alerts = document.querySelectorAll('.alert');
                alerts.forEach(function(alert) {
                    var bsAlert = new bootstrap.Alert(alert);
                    bsAlert.close();
                });
            }, 5000);
        });
    </script>
</head>
<body>

    {% include 'header.html'%}
    
    {% if messages %}
        <div class="messages">
            {% for message in messages %}
            <div class="alert alert-{% if message.tags %}{{ message.tags }}{% endif %} alert-dismissible fade show" role="alert">
                {{ message }}
                <button type="button" class="btn-close" data-bs-dismiss="alert" aria-label="Close"></button>
            </div>
            {% endfor %}
        </div>
    {% endif %}
    <form action="{% url 'atividades:atividade' %}" class="form-container" method="post">
        {% csrf_token %}
        <div class="form-grid">
            <div>
                <input type="hidden" id="idusuario" name="idusuario" maxlength="100" value="{{ usuario.idusuario }}">
                <div class="form-group">
                    <label for="nmatividade">Atividade</label>
                    <input type="text" id="nmatividade" name="nmatividade" maxlength="100" required>
                </div>
                <div class="form-group">
                    <label for="dsatividade">Descri√ß√£o</label>
                    <textarea id="dsatividade" name="dsatividade" maxlength="200"></textarea>
                    <div style="text-align: right; color: #fff; font-size: 1rem;">Max 200</div>
                </div>
            </div>
            <div>
                <div class="form-group">
                    <label for="recorrencia">Recorr√™ncia</label>
                    <select id="recorrencia" name="recorrencia" required>
                        <option value="">Selecione uma op√ß√£o</option>
                        <option value="unica">Di√°ria</option>
                        <option value="habitual">Habitual</option>
                    </select>
                </div>
                <div class="form-group">
                    <label for="tpestimado">Tempo estimado</label>
                    <input type="text" id="tpestimado" name="tpestimado" placeholder="Ex: 40 minutos" required>
                </div>
                <div class="form-group">
                    <label for="peso">Peso da atividade</label>
                    <select id="peso" name="peso" required>
                        <option value="">Selecione uma op√ß√£o</option>
                        <option value="muito_facil">Muito f√°cil</option>
                        <option value="facil">F√°cil</option>
                        <option value="medio">M√©dio</option>
                        <option value="dificil">Dif√≠cil</option>
                        <option value="muito_dificil">Muito dif√≠cil</option>
                    </select>
                </div>
            </div>
        </div>
        <div class="form-actions">
            <button type="submit" class="btn-add">Add Tarefa <span>+</span></button>
            <button type="reset" class="btn-clear">Limpar <span>üóëÔ∏è</span></button>
            <a href="{% url 'usuarios:main' %}" class="btn-cancel" style="display:flex;align-items:center;">
                Cancelar <span>‚úñÔ∏è</span>
            </a>
        </div>
    </form>
</body>
</html>